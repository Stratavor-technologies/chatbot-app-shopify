import{r as l,R as o}from"./jsx-runtime-DexIYAB0.js";import{j as x,F as f,h as M,G as R,E as w,t as I,H as _,J as N,K as O,N as F,O as B,Q as $,R as H,U as D,V as W,X as G,Y as V,w as K,Z as U,d as Q,_ as S,B as P,n as z,$ as J,T as X,a0 as Z}from"./Page-g_6naJ0r.js";const E="data-lock-scrolling",v="data-lock-scrolling-hidden",C="data-lock-scrolling-wrapper";let h=0;function Y(){const{body:r}=document;return r.scrollHeight>r.clientHeight}class q{constructor(){this.scrollLocks=0,this.locked=!1}registerScrollLock(){this.scrollLocks+=1,this.handleScrollLocking()}unregisterScrollLock(){this.scrollLocks-=1,this.handleScrollLocking()}handleScrollLocking(){if(x)return;const{scrollLocks:e}=this,{body:t}=document,n=t.firstElementChild;e===0?(t.removeAttribute(E),t.removeAttribute(v),n&&n.removeAttribute(C),window.scroll(0,h),this.locked=!1):e>0&&!this.locked&&(h=window.pageYOffset,t.setAttribute(E,""),Y()||t.setAttribute(v,""),n&&(n.setAttribute(C,""),n.scrollTop=h),this.locked=!0)}resetScrollPosition(){h=0}}const j=/\[(.*?)\]|(\w+)/g;function y(r,e,t){if(r==null)return;const n=Array.isArray(e)?e:ee(e);let s=r;for(let a=0;a<n.length;a++){const i=s[n[a]];if(i===void 0)return t;s=i}return s}function ee(r){const e=[];let t;for(;t=j.exec(r);){const[,n,s]=t;e.push(n||s)}return e}function te(...r){let e={};for(const t of r)e=b(e,t);return e}function b(r,e){const t=Array.isArray(r)?[...r]:{...r};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n))k(e[n])&&k(t[n])?t[n]=b(t[n],e[n]):t[n]=e[n];else continue;return t}function k(r){return r!==null&&typeof r=="object"}const ne=/{([^}]*)}/g;class L{constructor(e){this.translation={},this.translation=Array.isArray(e)?te(...e.slice().reverse()):e}translate(e,t){const n=y(this.translation,e,"");return n?t?n.replace(ne,s=>{const a=s.substring(1,s.length-1);if(t[a]===void 0){const i=JSON.stringify(t);throw new Error(`Error in translation for key '${e}'. No replacement found for key '${a}'. The following replacements were passed: '${i}'`)}return t[a]}):n:""}translationKeyExists(e){return!!y(this.translation,e)}}const re=l.createContext(void 0),se=function({children:e}){const[t,n]=l.useState(f().matches),s=l.useCallback(M(()=>{t!==f().matches&&n(!t)},40,{trailing:!0,leading:!0,maxWait:40}),[t]);l.useEffect(()=>{n(f().matches)},[]);const a=l.useMemo(()=>({isNavigationCollapsed:t}),[t]);return o.createElement(R.Provider,{value:a},o.createElement(w,{event:"resize",handler:s}),e)};function oe(r,e){return o.createElement("div",{id:"PolarisPortalsContainer",ref:e})}const ae=l.forwardRef(oe);function le({children:r,container:e}){const t=I(),n=l.useRef(null),s=l.useMemo(()=>e?{container:e}:t?{container:n.current}:{container:null},[e,t]);return o.createElement(_.Provider,{value:s},r,e?null:o.createElement(ae,{ref:n}))}function ie({children:r}){const[e,t]=l.useState([]),n=l.useCallback(i=>{t(c=>[...c,i])},[]),s=l.useCallback(i=>{let c=!0;return t(u=>{const d=[...u],m=d.indexOf(i);return m===-1?c=!1:d.splice(m,1),d}),c},[]),a=l.useMemo(()=>({trapFocusList:e,add:n,remove:s}),[n,e,s]);return o.createElement(N.Provider,{value:a},r)}const ce={tooltip:0,hovercard:0};function ue({children:r}){const[e,t]=l.useState(ce),n=l.useCallback(i=>{t(c=>({...c,[i]:c[i]+1}))},[]),s=l.useCallback(i=>{t(c=>({...c,[i]:c[i]-1}))},[]),a=l.useMemo(()=>({presenceList:Object.entries(e).reduce((i,c)=>{const[u,d]=c;return{...i,[u]:d>=1}},{}),presenceCounter:e,addPresence:n,removePresence:s}),[n,s,e]);return o.createElement(O.Provider,{value:a},r)}const de=20,p=30,me=p+10;function he(){var s;const r=document.createElement("div");r.setAttribute("style",`position: absolute; opacity: 0; transform: translate3d(-9999px, -9999px, 0); pointer-events: none; width:${p}px; height:${p}px;`);const e=document.createElement("div");e.setAttribute("style",`width:100%; height: ${me}; overflow:scroll; scrollbar-width: thin;`),r.appendChild(e),document.body.appendChild(r);const t=p-(((s=r.firstElementChild)==null?void 0:s.clientWidth)??0),n=Math.min(t,de);document.documentElement.style.setProperty("--pc-app-provider-scrollbar-width",`${n}px`),document.body.removeChild(r)}class ve extends l.Component{constructor(e){super(e),this.setBodyStyles=()=>{document.body.style.backgroundColor="var(--p-color-bg)",document.body.style.color="var(--p-color-text)"},this.setRootAttributes=()=>{const s=this.getThemeName();F.forEach(a=>{document.documentElement.classList.toggle(B(a),a===s)})},this.getThemeName=()=>this.props.theme??$,this.stickyManager=new H,this.scrollLockManager=new q;const{i18n:t,linkComponent:n}=this.props;this.state={link:n,intl:new L(t)}}componentDidMount(){document!=null&&(this.stickyManager.setContainer(document),this.setBodyStyles(),this.setRootAttributes(),navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.userAgent.includes("Version/16.1")||navigator.userAgent.includes("Version/16.2")||navigator.userAgent.includes("Version/16.3"))&&document.documentElement.classList.add("Polaris-Safari-16-Font-Optical-Sizing-Patch")),he()}componentDidUpdate({i18n:e,linkComponent:t}){const{i18n:n,linkComponent:s}=this.props;this.setRootAttributes(),!(n===e&&s===t)&&this.setState({link:s,intl:new L(n)})}render(){const{children:e,features:t}=this.props,n=this.getThemeName(),{intl:s,link:a}=this.state;return o.createElement(D.Provider,{value:W(n)},o.createElement(re.Provider,{value:t},o.createElement(G.Provider,{value:s},o.createElement(V.Provider,{value:this.scrollLockManager},o.createElement(K.Provider,{value:this.stickyManager},o.createElement(U.Provider,{value:a},o.createElement(se,null,o.createElement(le,null,o.createElement(ie,null,o.createElement(ue,null,e))))))))))}}var g={Item:"Polaris-FormLayout__Item",grouped:"Polaris-FormLayout--grouped",condensed:"Polaris-FormLayout--condensed"};function T({children:r,condensed:e=!1}){const t=Q(g.Item,e?g.condensed:g.grouped);return r?o.createElement("div",{className:t},r):null}function A({children:r,condensed:e,title:t,helpText:n}){const s=l.useId();let a=null,i,c=null,u;n&&(i=`${s}HelpText`,a=o.createElement(J,{id:i,color:"text-secondary"},n)),t&&(u=`${s}Title`,c=o.createElement(X,{id:u,as:"p"},t));const d=l.Children.map(r,m=>S(m,T,{condensed:e}));return o.createElement(P,{role:"group",gap:"200","aria-labelledby":u,"aria-describedby":i},c,o.createElement(z,{gap:"300"},d),a)}const pe=l.memo(function({children:e}){return o.createElement(P,{gap:"400"},l.Children.map(e,fe))});pe.Group=A;function fe(r,e){return Z(r,A)?r:S(r,T,{key:e})}export{ve as A,ue as E,pe as F,L as I,le as P,q as S,re as a,ie as b,te as m};
